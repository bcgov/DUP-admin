<div class="container-fluid-padding-without-header">
    <section *ngIf="loadingFacility || loadingPasses">
        <div class="spinner-container">
            <div class="spinner-new rotating"></div>
        </div>
    </section>
    <section *ngIf="!loadingFacility">
        <div class="row">
            <div class="col-md-6">
                <label>
                    Status:
                </label>
                <p>
                    {{facility.status.state}}
                </p>
            </div>
            <div class="col-md-6">
                <label>
                    Type:
                </label>
                <p>
                    {{facility.type}}
                </p>
            </div>
        </div>
        <div class="row"
            *ngIf="facility.status.state === 'closed'">
            <div class="col-12">
                <label>
                    Closure Reason:
                </label>
                <p>
                    {{facility.status.stateReason}}
                </p>
            </div>
        </div>
        <div class="row"
            *ngIf="facility?.bookingTimes.AM">
            <div class="col-md-6">
                <label>
                    AM Capacity:
                </label>
                <p>
                    {{facility?.bookingTimes.AM.max}}
                </p>
            </div>
            <div class="col-md-6">
                <label>
                    AM Reservation Count:
                </label>
                <p>
                    {{facility?.bookingTimes.AM.currentCount}}
                </p>
            </div>
        </div>
        <div class="row"
            *ngIf="facility?.bookingTimes.PM">
            <div class="col-md-6">
                <label>
                    PM Capacity:
                </label>
                <p>
                    {{facility?.bookingTimes.PM.max}}
                </p>
            </div>
            <div class="col-md-6">
                <label>
                    PM Reservation Count:
                </label>
                <p>
                    {{facility?.bookingTimes.PM.currentCount}}
                </p>
            </div>
        </div>
        <div class="row"
            *ngIf="facility?.bookingTimes.DAY">
            <div class="col-md-6">
                <label>
                    All Day Capacity:
                </label>
                <p>
                    {{facility?.bookingTimes.DAY.max}}
                </p>
            </div>
            <div class="col-md-6">
                <label>
                    All Day Reservation Count:
                </label>
                <p>
                    {{facility?.bookingTimes.DAY.currentCount}}
                </p>
            </div>
        </div>
        <hr>
        <br>
    </section>
    <section>
        <div class="row passes-header-bg-colour px-3 pt-4">
            <div class="col-md-7 col-sm-12">
                <h3>Passes</h3>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-8">
                <button [disabled]="loadingPasses"
                    class="btn btn-primary"
                    (click)="exportCsv()">Export to .csv</button>
            </div>
            <div class="col-md-4 mt-4 mt-md-0">
                <div class="btn-group btn-group-toggle d-flex justify-content-end"
                    facility-toggle="buttons">
                    <label *ngIf="facility?.bookingTimes.AM"
                        class="btn btn-outline-secondary"
                        [ngClass]="{'active': passTypeSelected === 'AM'}">
                        <input type="radio"
                            name="options"
                            id="option1"
                            (click)="fetchPassTable('AM')"> AM
                    </label>
                    <label *ngIf="facility?.bookingTimes.PM"
                        class="btn btn-outline-secondary"
                        [ngClass]="{'active': passTypeSelected === 'PM'}">
                        <input type="radio"
                            name="options"
                            id="option2"
                            (click)="fetchPassTable('PM')"> PM
                    </label>
                    <label *ngIf="facility?.bookingTimes.DAY"
                        class="btn btn-outline-secondary"
                        [ngClass]="{'active': passTypeSelected === 'DAY'}">
                        <input type="radio"
                            name="options"
                            id="option3"
                            (click)="fetchPassTable('DAY')"> All Day
                    </label>
                </div>
            </div>
        </div>
    </section>
    <br>
    <app-pass-list></app-pass-list>
</div>